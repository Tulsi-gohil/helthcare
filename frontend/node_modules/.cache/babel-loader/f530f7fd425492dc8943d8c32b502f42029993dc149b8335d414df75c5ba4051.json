{"ast":null,"code":"const BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\nasync function request(path, opts = {}) {\n  const headers = opts.headers || {};\n  if (!headers[\"Content-Type\"]) headers[\"Content-Type\"] = \"application/json\";\n  const token = localStorage.getItem('token');\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n  const res = await fetch(`${BASE_URL}${path}`, {\n    ...opts,\n    headers,\n    body: opts.body ? JSON.stringify(opts.body) : undefined\n  });\n  let data;\n  try {\n    data = await res.json();\n  } catch (e) {\n    return {\n      success: res.ok,\n      message: 'No JSON response'\n    };\n  }\n  if (!res.ok) return {\n    success: false,\n    message: data.message || 'Request failed',\n    ...data\n  };\n  return data;\n}\n\n// Auth\nexport const signupUser = async userData => {\n  return await request('/auth/register', {\n    method: 'POST',\n    body: userData\n  });\n};\nexport const loginUser = async loginData => {\n  return await request('/auth/login', {\n    method: 'POST',\n    body: loginData\n  });\n};\nexport const getUserProfile = async () => {\n  return await request('/auth/profile', {\n    method: 'GET'\n  });\n};\nexport const logoutUser = () => {\n  localStorage.removeItem('token');\n};\n\n// Appointments\nexport const bookAppointment = async appointmentData => {\n  return await request('/appointments/book', {\n    method: 'POST',\n    body: appointmentData\n  });\n};\nexport const getMyAppointments = async () => {\n  return await request('/appointments/my', {\n    method: 'GET'\n  });\n};\nexport const getAllAppointments = async () => {\n  return await request('/appointments', {\n    method: 'GET'\n  });\n};\nexport const cancelAppointment = async id => {\n  return await request(`/appointments/${id}`, {\n    method: 'DELETE'\n  });\n};\nexport default {\n  signupUser,\n  loginUser,\n  getUserProfile,\n  logoutUser,\n  bookAppointment,\n  getMyAppointments,\n  getAllAppointments,\n  cancelAppointment\n};","map":{"version":3,"names":["BASE_URL","process","env","REACT_APP_API_URL","request","path","opts","headers","token","localStorage","getItem","res","fetch","body","JSON","stringify","undefined","data","json","e","success","ok","message","signupUser","userData","method","loginUser","loginData","getUserProfile","logoutUser","removeItem","bookAppointment","appointmentData","getMyAppointments","getAllAppointments","cancelAppointment","id"],"sources":["D:/helthcare-main/frontend/src/services/api.js"],"sourcesContent":["const BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\nasync function request(path, opts = {}) {\n  const headers = opts.headers || {};\n  if (!headers[\"Content-Type\"]) headers[\"Content-Type\"] = \"application/json\";\n\n  const token = localStorage.getItem('token');\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n\n  const res = await fetch(`${BASE_URL}${path}`, { ...opts, headers, body: opts.body ? JSON.stringify(opts.body) : undefined });\n  let data;\n  try {\n    data = await res.json();\n  } catch (e) {\n    return { success: res.ok, message: 'No JSON response' };\n  }\n\n  if (!res.ok) return { success: false, message: data.message || 'Request failed', ...data };\n  return data;\n}\n\n// Auth\nexport const signupUser = async (userData) => {\n  return await request('/auth/register', { method: 'POST', body: userData });\n};\n\nexport const loginUser = async (loginData) => {\n  return await request('/auth/login', { method: 'POST', body: loginData });\n};\n\nexport const getUserProfile = async () => {\n  return await request('/auth/profile', { method: 'GET' });\n};\n\nexport const logoutUser = () => {\n  localStorage.removeItem('token');\n};\n\n// Appointments\nexport const bookAppointment = async (appointmentData) => {\n  return await request('/appointments/book', { method: 'POST', body: appointmentData });\n};\n\nexport const getMyAppointments = async () => {\n  return await request('/appointments/my', { method: 'GET' });\n};\n\nexport const getAllAppointments = async () => {\n  return await request('/appointments', { method: 'GET' });\n};\n\nexport const cancelAppointment = async (id) => {\n  return await request(`/appointments/${id}`, { method: 'DELETE' });\n};\n\nexport default { signupUser, loginUser, getUserProfile, logoutUser, bookAppointment, getMyAppointments, getAllAppointments, cancelAppointment };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}